{"id":"scribe-0s1","content_hash":"f868b0a3d10e22daaf3f9515e248d6e14c88f9290fd7d83d8b79b9ed0ab78c10","title":"CommandPalette tests: keyboard navigation and clicks","description":"Component tests for keyboard navigation and click handlers in file-browse mode. Keyboard tests: (1) Arrow Down highlights next item, (2) Arrow Up highlights previous item, (3) Enter on highlighted item opens note and closes palette, (4) Keyboard navigation wraps or stops at boundaries. Click tests: (5) Clicking note item opens note and closes palette, (6) Clicking outside palette (overlay) closes palette. Location: renderer/src/components/CommandPalette/CommandPalette.test.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:24.95017-06:00","updated_at":"2025-11-24T21:10:06.84208-06:00","closed_at":"2025-11-24T21:10:06.842083-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-0s1","depends_on_id":"scribe-ncz","type":"blocks","created_at":"2025-11-24T20:35:28.093598-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-0s1","depends_on_id":"scribe-vw9","type":"blocks","created_at":"2025-11-24T20:35:28.125885-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-0s1","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:28.158721-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-0tn","content_hash":"faaaaa5b856fac69110dd3acaa4ecd0ad0612b12d60993451458b9f3096dabec","title":"Add notes:list IPC endpoint for fetching all notes","description":"Add or verify IPC handler to list all notes with id, metadata.title, and updatedAt. NOTE: There may be an existing scribe-znz issue for this in Epic 2 (Vault Initialization). Check if window.scribe.notes.list() already exists in preload (scribe.d.ts). If it exists and returns the required fields, this task is complete. If not, add notes:list IPC channel in main process and expose via preload. Return array of Note objects.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:33:45.325925-06:00","updated_at":"2025-11-24T20:53:05.162385-06:00","closed_at":"2025-11-24T20:53:05.162387-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-0tn","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:48.796965-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-14i","content_hash":"196af234e052a6b6fbd4df214484b77db261827ac7d194890cf6f9d0421e6cb7","title":"Add back button UI to command palette","description":"Add left arrow (←) back button in input container. Only render when mode === 'file-browse'. Clicking returns to command mode. Position to left of input field. Style as subtle, clickable element. Add .command-palette-back-button CSS class to CommandPalette.css.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:34:10.330513-06:00","updated_at":"2025-11-24T21:03:02.113495-06:00","closed_at":"2025-11-24T21:03:02.113496-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-14i","depends_on_id":"scribe-xtm","type":"blocks","created_at":"2025-11-24T20:34:14.215678-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-14i","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:34:14.248408-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-15k","content_hash":"a4f270d5cc1248ca95befaf7d30a887e020e2dd7bd1894cb4865dcf0b1688d94","title":"Implement file-browse note item rendering","description":"Render note items in file-browse mode with two lines: (1) Title - truncated at ~50 chars with ellipsis, show 'Untitled' for null titles, (2) Date subtext - use formatRelativeDate(updatedAt). Handle empty vault state: show 'No notes yet. Create one with ⌘N' message. Reuse existing .command-palette-item styles, add .command-palette-note-subtext for date line.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:34:19.590308-06:00","updated_at":"2025-11-24T21:01:19.354746-06:00","closed_at":"2025-11-24T21:01:19.354748-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-15k","depends_on_id":"scribe-jav","type":"blocks","created_at":"2025-11-24T20:34:23.839865-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-15k","depends_on_id":"scribe-fub","type":"blocks","created_at":"2025-11-24T20:34:23.872211-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-15k","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:34:23.904106-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-1i3","content_hash":"2e560c8572fdb2f7360ba69064dce80a80605b820550ef9e9c46f53535bb2d82","title":"Add closeOnSelect property to Command type for explicit palette close control","description":"CommandPalette.tsx lines 407-411: Commands currently rely on context.closePalette() but behavior is inconsistent. Add optional closeOnSelect boolean to Command type for explicit control","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-11-25T05:59:11.731204-06:00","updated_at":"2025-11-25T06:21:24.752912-06:00","closed_at":"2025-11-25T06:21:24.752912-06:00","source_repo":"."}
{"id":"scribe-1if","content_hash":"e96c59ed88dadb53c73d830c43a56c5ff42ad880c472c8087f9a4000c9f0283b","title":"Split CommandPalette.test.tsx into smaller focused test files","description":"CommandPalette.test.tsx is 1800+ lines. Split into: CommandPalette.command-mode.test.tsx, CommandPalette.file-browse.test.tsx, CommandPalette.keyboard.test.tsx for better maintainability","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T05:59:15.970675-06:00","updated_at":"2025-11-25T06:26:33.543548-06:00","closed_at":"2025-11-25T06:26:33.543548-06:00","source_repo":"."}
{"id":"scribe-1mh","content_hash":"7f5c8e8544bd6c2749fd5d1bfb7e5125d24f16868ca4d3083a1cb505bb10887a","title":"E2E test: Search and open flow","description":"E2E integration test: Search and open flow. Steps: (1) Launch app with multiple notes including one titled 'Meeting Notes', (2) Press ⌘O to open palette in file-browse mode, (3) Type 'meet' in search input, (4) Verify 'Meeting Notes' appears in filtered results, (5) Click on 'Meeting Notes' item, (6) Verify note loads in editor, (7) Verify palette closes. Location: apps/desktop/open-file.integration.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:45.377629-06:00","updated_at":"2025-11-24T21:18:26.034854-06:00","closed_at":"2025-11-24T21:18:26.034856-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-1mh","depends_on_id":"scribe-sq4","type":"blocks","created_at":"2025-11-24T20:35:55.730603-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-1mh","depends_on_id":"scribe-0s1","type":"blocks","created_at":"2025-11-24T20:35:55.76357-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-1mh","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:55.796568-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-26r","content_hash":"246e2fb243df4b83c0deb23f062896176a57eeda515e235630c7015eb3655824","title":"Add file-browse CSS styles","description":"Add CSS styles for file-browse mode in CommandPalette.css: (1) .command-palette-back-button - positioned left of input, subtle styling, hover state, (2) .command-palette-note-subtext - smaller font, muted color for date display, (3) .command-palette-item-title - ensure max-width and text-overflow: ellipsis work for truncation. Include dark mode variants in @media (prefers-color-scheme: dark) block.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:34:28.484318-06:00","updated_at":"2025-11-24T21:02:52.96282-06:00","closed_at":"2025-11-24T21:02:52.962823-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-26r","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:34:32.141436-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-2g3","content_hash":"fc2632d90c0114d07e48172cef16575d8f6e71fc9d98d91a91b131b0bd8cfe79","title":"Update input placeholder for file-browse mode","description":"Change placeholder from 'Search or run a command...' to 'Search notes...' when in file-browse mode. Dynamic placeholder based on mode state.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-24T20:34:52.228143-06:00","updated_at":"2025-11-24T21:03:42.810834-06:00","closed_at":"2025-11-24T21:03:42.810835-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-2g3","depends_on_id":"scribe-xtm","type":"blocks","created_at":"2025-11-24T20:34:55.378324-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-2g3","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:34:55.41146-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-34k","content_hash":"bbb6fba51991b3b8014b69513e0dd6deff52fa46c93386fcc3f19864bf24c4df","title":"Fix file-browse mode: onNoteSelect prop not passed to CommandPalette","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-25T05:22:02.664667-06:00","updated_at":"2025-11-25T05:22:38.158428-06:00","closed_at":"2025-11-25T05:22:38.158428-06:00","source_repo":"."}
{"id":"scribe-3u1","content_hash":"8fd44500fbf716abe94f4c22cfbf86bf0423a28cd0c10d8ca6ab55ccaa013819","title":"E2E test: Open recent note flow","description":"E2E integration test: Open recent note flow. Steps: (1) Launch app with 3+ existing notes with different updatedAt timestamps, (2) Press ⌘O to open palette in file-browse mode, (3) Verify recent notes are displayed sorted by updatedAt descending, (4) Press ↓ to select second note, (5) Press Enter, (6) Verify selected note content loads in editor, (7) Verify command palette closes. Location: apps/desktop/open-file.integration.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:41.376672-06:00","updated_at":"2025-11-24T21:19:35.687779-06:00","closed_at":"2025-11-24T21:19:35.687782-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-3u1","depends_on_id":"scribe-edt","type":"blocks","created_at":"2025-11-24T20:35:55.597789-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-3u1","depends_on_id":"scribe-td8","type":"blocks","created_at":"2025-11-24T20:35:55.631332-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-3u1","depends_on_id":"scribe-0s1","type":"blocks","created_at":"2025-11-24T20:35:55.663597-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-3u1","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:55.697692-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-3y1","content_hash":"470a00cb7bfd013fbe83cd89fca043cb70ed7230f81c6a1db08cae519cfa1905","title":"Unit tests for formatRelativeDate","description":"Unit tests for formatRelativeDate utility. Test cases: (1) 'Just now' for \u003c60 seconds, (2) '1 minute ago' for exactly 60 seconds, (3) '5 minutes ago' for 5 min, (4) '1 hour ago' for 60 min, (5) '3 hours ago' for 3 hours, (6) '1 day ago' for 24 hours, (7) '6 days ago' for 6 days, (8) Absolute date 'Nov 17, 2025' for exactly 7 days, (9) null input handling, (10) undefined input handling. Location: renderer/src/utils/formatRelativeDate.test.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:33:04.096237-06:00","updated_at":"2025-11-24T20:52:11.094953-06:00","closed_at":"2025-11-24T20:52:11.094954-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-3y1","depends_on_id":"scribe-jav","type":"blocks","created_at":"2025-11-24T20:33:08.30286-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-3y1","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:08.369337-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-7cv","content_hash":"21dfdf23d9c053ac8e1fe37c9c7cc2ee2b108800014c5323db438db852896999","title":"Consolidate duplicate mode-reset effects in CommandPalette","description":"CommandPalette.tsx has two effects managing mode state (lines 145-161 and 165-169). Consolidate into single effect with proper dependency array including initialMode","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-25T05:58:54.093631-06:00","updated_at":"2025-11-25T06:14:57.144469-06:00","closed_at":"2025-11-25T06:14:57.144469-06:00","source_repo":"."}
{"id":"scribe-8kd","content_hash":"dbeeb0011f8bff1fe17a882566a3b6a7304bf7b0dc7fed29916f14612daeb705","title":"Lazy-initialize Fuse.js index only in file-browse mode","description":"CommandPalette.tsx lines 203-213: Fuse index is rebuilt when allNotes or currentNoteId changes even when not in file-browse mode. Conditionally initialize to avoid unnecessary computation","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-25T05:59:29.41901-06:00","updated_at":"2025-11-25T05:59:29.41901-06:00","source_repo":"."}
{"id":"scribe-8uf","content_hash":"ac80f139fdd21ee66f1ac4d9445a5668b10201fc2433e94c8eb3696cf037a873","title":"Replace setTimeout with requestAnimationFrame for input focus","description":"CommandPalette.tsx line 152: setTimeout with 10ms delay for input focus is brittle. Use requestAnimationFrame or ref callback for more reliable focus handling","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T05:59:24.443254-06:00","updated_at":"2025-11-25T06:28:00.145053-06:00","closed_at":"2025-11-25T06:28:00.145053-06:00","source_repo":"."}
{"id":"scribe-a5x","content_hash":"fb9834c4cb5956623f29b7ac18f9ee0467f063e2eefc8ab3655260c0a5df2ee1","title":"Handle future timestamps in formatRelativeDate utility","description":"formatRelativeDate.ts: If timestamp \u003e Date.now() (clock skew or future date), function returns 'Just now' which is misleading. Add handling for future dates or return sensible fallback","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-25T05:59:20.162352-06:00","updated_at":"2025-11-25T06:16:50.166063-06:00","closed_at":"2025-11-25T06:16:50.166063-06:00","source_repo":"."}
{"id":"scribe-ard","content_hash":"2d34ec9de048df18d752bdf4ebe9142c87338f18e62c09474adc051810889c77","title":"Extract magic number for max recent notes to constant","description":"CommandPalette.tsx line 198: Replace magic number 10 with MAX_RECENT_NOTES constant alongside existing MAX_SEARCH_RESULTS","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-25T05:59:07.409114-06:00","updated_at":"2025-11-25T06:18:34.806098-06:00","closed_at":"2025-11-25T06:18:34.806098-06:00","source_repo":"."}
{"id":"scribe-byj","content_hash":"3a100aaa4aff051d26686b70c8355809f7bd7d3883983556689c2a85dbe85c11","title":"Prevent infinite initialization loop in useNoteState hook","description":"useNoteState.ts lines 128-148: If both loadNote and createNote fail, the effect retries infinitely. Add hasInitialized ref to prevent repeated initialization attempts after failure","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-25T05:59:03.443421-06:00","updated_at":"2025-11-25T06:12:50.336743-06:00","closed_at":"2025-11-25T06:12:50.336743-06:00","source_repo":"."}
{"id":"scribe-d1y","content_hash":"efca5ca84fd9e44ed2814f3cce77aba8c933ae37466a32d03b072681ca712bf9","title":"Implement ⌘K mode toggle in file-browse","description":"When ⌘K is pressed while in file-browse mode, switch back to command mode. Modify keydown handler in CommandPalette or App.tsx.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:33:36.701543-06:00","updated_at":"2025-11-24T21:02:22.234625-06:00","closed_at":"2025-11-24T21:02:22.234626-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-d1y","depends_on_id":"scribe-xtm","type":"blocks","created_at":"2025-11-24T20:33:39.969325-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-d1y","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:40.001097-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-edt","content_hash":"f60db70932f7526c00318a388f0dc9dfac9dce088fde67b8f9bf285f04aca08c","title":"CommandPalette tests: mode switching","description":"Component tests for mode switching behavior. Tests: (1) ⌘O opens palette in file-browse mode, (2) Selecting 'Open Note' command switches to file-browse mode, (3) ⌘K while in file-browse mode returns to command mode, (4) Escape while in file-browse mode returns to command mode (not close), (5) Clicking back button returns to command mode, (6) Mode resets to 'command' when palette closes and reopens. Location: renderer/src/components/CommandPalette/CommandPalette.test.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:01.23818-06:00","updated_at":"2025-11-24T21:08:46.015084-06:00","closed_at":"2025-11-24T21:08:46.015085-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-edt","depends_on_id":"scribe-t8m","type":"blocks","created_at":"2025-11-24T20:35:05.092331-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-edt","depends_on_id":"scribe-hok","type":"blocks","created_at":"2025-11-24T20:35:05.125139-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-edt","depends_on_id":"scribe-d1y","type":"blocks","created_at":"2025-11-24T20:35:05.157467-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-edt","depends_on_id":"scribe-14i","type":"blocks","created_at":"2025-11-24T20:35:05.189743-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-edt","depends_on_id":"scribe-ncz","type":"blocks","created_at":"2025-11-24T20:35:05.222611-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-edt","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:05.255426-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-fub","content_hash":"5edb9a7b61f9c9563f9dfa603dd1d394457caf10c35dd074054128cdb3c2cbd8","title":"Implement file-browse mode data fetching","description":"Fetch all notes once when entering file-browse mode via window.scribe.notes.list(). Store notes array in component state. Show 'Loading...' during fetch. Filter out current note from display. Initial state (no query): show 10 most recent notes sorted by updatedAt descending. Include untitled notes in recents list.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:33:53.438221-06:00","updated_at":"2025-11-24T20:56:52.37953-06:00","closed_at":"2025-11-24T20:56:52.379531-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-fub","depends_on_id":"scribe-xtm","type":"blocks","created_at":"2025-11-24T20:33:57.019305-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-fub","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:57.090602-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-fub","depends_on_id":"scribe-0tn","type":"blocks","created_at":"2025-11-24T20:40:13.198465-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-hok","content_hash":"d67e7a7bb88eda476a4348697e8259ff645862b83e5cf321202ff3d56c40760c","title":"Update Open Note command to enter file-browse mode","description":"Update 'open-note' command registration in App.tsx. Currently the run() function is a no-op. Change it to set palette mode to 'file-browse'. This requires passing a setMode callback via command context or lifting mode state to App.tsx.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:33:28.883964-06:00","updated_at":"2025-11-24T21:02:33.460379-06:00","closed_at":"2025-11-24T21:02:33.46038-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-hok","depends_on_id":"scribe-xtm","type":"blocks","created_at":"2025-11-24T20:33:32.638896-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-hok","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:32.671074-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-jav","content_hash":"bd983a06e4b67b536b5522e7bfdaf33a855f3ecec2ffecab32a0557c0cb259cf","title":"Create formatRelativeDate utility","description":"Create new utility function formatRelativeDate(timestamp: number | null | undefined): string. Rules: (1) null/undefined → return empty string or 'Unknown', (2) \u003c60 seconds ago → 'Just now', (3) \u003c60 minutes ago → 'X minutes ago' (singular: '1 minute ago'), (4) \u003c24 hours ago → 'X hours ago', (5) \u003c7 days ago → 'X days ago', (6) \u003e=7 days → absolute date 'Nov 24, 2025' format. Location: renderer/src/utils/formatRelativeDate.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:32:59.047202-06:00","updated_at":"2025-11-24T20:51:47.806174-06:00","closed_at":"2025-11-24T20:51:47.806175-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-jav","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:08.337274-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-k2b","content_hash":"c3467ede62bba8ca9e3b04d4c8fc3ec7a85bb7ad12ff45e85d8affd8a09debee","title":"Fix stale closure in App.tsx keyboard handler due to noteState reference instability","description":"App.tsx line 161: noteState changes on every render causing effect to re-register. Return stable references from useNoteState using useCallback","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-25T05:58:49.604042-06:00","updated_at":"2025-11-25T06:08:15.239755-06:00","closed_at":"2025-11-25T06:08:15.239755-06:00","source_repo":"."}
{"id":"scribe-ncz","content_hash":"31bfc45a685c8a451b4cb6f824c68badcc544674ffef6b1d5bbd8760631c538f","title":"Implement file-browse keyboard navigation","description":"Implement mode-aware keyboard navigation in CommandPalette. In file-browse mode: Escape returns to command mode (does NOT close palette entirely), Enter opens selected note and closes palette, Up/Down arrows navigate the note list. Modify existing keydown useEffect to check current mode before handling keys.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:34:36.474637-06:00","updated_at":"2025-11-24T21:00:32.939096-06:00","closed_at":"2025-11-24T21:00:32.939097-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-ncz","depends_on_id":"scribe-xtm","type":"blocks","created_at":"2025-11-24T20:34:40.010333-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-ncz","depends_on_id":"scribe-fub","type":"blocks","created_at":"2025-11-24T20:34:40.043399-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-ncz","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:34:40.075072-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-o5n","content_hash":"e7b8b82a2408820d903f4d1e1ea38b9bce0390c25eee94918505626f7e1b1d51","title":"Fix race condition in note fetching with cancellation mechanism","description":"CommandPalette.tsx lines 172-191: Multiple fetchNotes() calls can be in flight when user rapidly switches modes. Add isCancelled flag or AbortController to cleanup effect","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-25T05:58:59.252728-06:00","updated_at":"2025-11-25T06:11:05.989651-06:00","closed_at":"2025-11-25T06:11:05.989651-06:00","source_repo":"."}
{"id":"scribe-oa8","content_hash":"c9a037aede3816d4962816389baf75ce201f32f702b0fb8f5f3476dea3537ca2","title":"Implement Fuse.js fuzzy search integration","description":"Install fuse.js dependency. Build Fuse.js index once when notes are fetched (index on metadata.title field). Fuzzy search is case-insensitive. Debounce search input by 150ms. Limit to max 25 results. Exclude current note AND untitled notes (title is null) from search results. Show 'No results' message when query matches nothing. When query is cleared, revert to showing recent notes.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:34:02.263963-06:00","updated_at":"2025-11-24T21:00:09.6255-06:00","closed_at":"2025-11-24T21:00:09.625501-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-oa8","depends_on_id":"scribe-fub","type":"blocks","created_at":"2025-11-24T20:34:05.537688-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-oa8","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:34:05.569416-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-scu","content_hash":"55bca24a33585ef01c338e2bec3c773ff82630b946db4de3a6c6cfa7da7c3341","title":"CommandPalette tests: UI rendering","description":"Component tests for file-browse UI rendering. Tests: (1) Long titles (\u003e50 chars) are truncated with ellipsis, (2) Date subtext displays correct relative format for recent notes, (3) Date subtext displays absolute format for notes \u003e=7 days old, (4) 'Untitled' displayed for notes with null title, (5) Back button only visible in file-browse mode, (6) Placeholder text is 'Search notes...' in file-browse mode. Location: renderer/src/components/CommandPalette/CommandPalette.test.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:31.821644-06:00","updated_at":"2025-11-24T21:16:36.156187-06:00","closed_at":"2025-11-24T21:16:36.156188-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-scu","depends_on_id":"scribe-15k","type":"blocks","created_at":"2025-11-24T20:35:35.416726-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-scu","depends_on_id":"scribe-26r","type":"blocks","created_at":"2025-11-24T20:35:35.449281-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-scu","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:35.481152-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-sq4","content_hash":"c06b85e5dd413e98832eacfff747b13c5f532f4e8dbb0640f75faa24229466bb","title":"CommandPalette tests: search behavior","description":"Component tests for file-browse search behavior. Tests: (1) Typing filters results via fuzzy search, (2) Search is case-insensitive, (3) Max 25 results displayed, (4) 'No results' shown when query matches nothing, (5) Clearing query returns to recent notes view, (6) Untitled notes excluded from search results, (7) Current note excluded from search results, (8) Search triggers after debounce (150ms). Mock Fuse.js or test with real instance. Location: renderer/src/components/CommandPalette/CommandPalette.test.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:17.683743-06:00","updated_at":"2025-11-24T21:14:45.612181-06:00","closed_at":"2025-11-24T21:14:45.612182-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-sq4","depends_on_id":"scribe-oa8","type":"blocks","created_at":"2025-11-24T20:35:21.02204-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-sq4","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:21.054815-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-t8m","content_hash":"dfeef40f35cd82de36c87710624307fca6d5b65aa2b1578efd34c5b14ed550ba","title":"Implement ⌘O global shortcut","description":"Register ⌘O (Cmd+O / Ctrl+O) global shortcut in App.tsx. When pressed: if palette is closed, open it in file-browse mode; if palette is already open, switch to file-browse mode. Add to existing useEffect keydown handler alongside ⌘K. Pass initialMode or mode prop to CommandPalette component.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:33:21.482361-06:00","updated_at":"2025-11-24T20:56:10.301758-06:00","closed_at":"2025-11-24T20:56:10.301759-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-t8m","depends_on_id":"scribe-xtm","type":"blocks","created_at":"2025-11-24T20:33:24.64175-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-t8m","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:24.674166-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-td8","content_hash":"c7927eae129bbd709faa749a19f648fc39249cf4303ac4984020765a14cc88a2","title":"CommandPalette tests: initial state (no query)","description":"Component tests for file-browse initial state (no query). Tests: (1) Shows 10 most recent notes sorted by updatedAt desc, (2) Current note is excluded from list, (3) Shows 'Loading...' while fetching notes, (4) Shows 'No notes yet. Create one with ⌘N' for empty vault, (5) Untitled notes appear in recents list. Mock window.scribe.notes.list() for each test case. Location: renderer/src/components/CommandPalette/CommandPalette.test.tsx","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:09.408298-06:00","updated_at":"2025-11-24T21:07:26.63548-06:00","closed_at":"2025-11-24T21:07:26.635482-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-td8","depends_on_id":"scribe-fub","type":"blocks","created_at":"2025-11-24T20:35:13.094834-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-td8","depends_on_id":"scribe-15k","type":"blocks","created_at":"2025-11-24T20:35:13.128086-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-td8","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:13.160267-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-vw9","content_hash":"eb1225316c7b5a94d3e72635074c26c2ea5b29264a51418c024a35eee31dcc6a","title":"Implement file-browse click handlers","description":"Implement click handlers for file-browse mode: (1) Click on note item → call onNoteSelect callback with note id, close palette, (2) Click outside palette (overlay) → close palette entirely (existing behavior works), (3) Click back button → return to command mode (set mode to 'command'). Ensure note items have cursor: pointer styling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:34:43.83268-06:00","updated_at":"2025-11-24T21:03:56.779179-06:00","closed_at":"2025-11-24T21:03:56.779181-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-vw9","depends_on_id":"scribe-fub","type":"blocks","created_at":"2025-11-24T20:34:47.530399-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-vw9","depends_on_id":"scribe-14i","type":"blocks","created_at":"2025-11-24T20:34:47.565053-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-vw9","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:34:47.597679-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-wx7","content_hash":"b02772f62431de33936c726706a767c61e90ba538a897883db344c2ce4625d53","title":"E2E test: Empty vault state","description":"E2E integration test: Empty vault state. Steps: (1) Launch app with empty vault (no notes), (2) Press ⌘O to open palette in file-browse mode, (3) Verify message 'No notes yet. Create one with ⌘N' is displayed, (4) Verify no note items are shown. Location: apps/desktop/open-file.integration.test.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-24T20:35:50.803501-06:00","updated_at":"2025-11-24T21:16:20.914204-06:00","closed_at":"2025-11-24T21:16:20.914205-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-wx7","depends_on_id":"scribe-td8","type":"blocks","created_at":"2025-11-24T20:35:55.829758-06:00","created_by":"erikjohansson"},{"issue_id":"scribe-wx7","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:35:55.862402-06:00","created_by":"erikjohansson"}]}
{"id":"scribe-x10","content_hash":"472aea356f18929fb4a5f5d2193ab772c89ac0fd826826feaa743366f452e8c4","title":"Fix onModeChange callback not called when initialMode prop changes","description":"CommandPalette.tsx line 165-169: Mode changes via prop but onModeChange is NOT called, causing state drift between parent App.tsx and CommandPalette","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-25T05:58:44.992081-06:00","updated_at":"2025-11-25T06:06:25.90254-06:00","closed_at":"2025-11-25T06:06:25.90254-06:00","source_repo":"."}
{"id":"scribe-x5e","content_hash":"0bd84bb76aca488cd7a46147208297179f9c36b2efcaca8e931914a9c57143bb","title":"Epic: Open File Command (⌘O)","description":"Transform the 'Open Note' command into a file browser mode within the command palette. Features: (1) ⌘O shortcut opens palette directly in file-browse mode, (2) Recent notes display (10 most recent by updatedAt), (3) Fuzzy filename search via Fuse.js, (4) Relative date formatting, (5) Back button to return to command mode, (6) Full keyboard navigation. See features/open-file-command.md for complete specification.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-24T20:32:54.023155-06:00","updated_at":"2025-11-24T21:20:25.683561-06:00","closed_at":"2025-11-24T21:20:25.683563-06:00","source_repo":"."}
{"id":"scribe-xtm","content_hash":"2e496449a22d8eb30db24b51542364fafcda5c0f9d494efadcf82aef5411adcb","title":"Add palette mode state management","description":"Add mode state to CommandPalette component: type PaletteMode = 'command' | 'file-browse'. Add useState\u003cPaletteMode\u003e('command'). Reset mode to 'command' when palette closes (in onClose or useEffect on isOpen). Add optional initialMode prop to allow opening directly in file-browse mode. Export PaletteMode type from commands/types.ts.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-24T20:33:13.265682-06:00","updated_at":"2025-11-24T20:54:15.32349-06:00","closed_at":"2025-11-24T20:54:15.323492-06:00","source_repo":".","dependencies":[{"issue_id":"scribe-xtm","depends_on_id":"scribe-x5e","type":"parent-child","created_at":"2025-11-24T20:33:16.667355-06:00","created_by":"erikjohansson"}]}
